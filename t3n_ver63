sudo apt update && sudo apt upgrade -y

# Tải đúng phiên bản executor
wget https://github.com/t3rn/executor-release/releases/download/v0.69.0/executor-linux-v0.69.0.tar.gz

# Giải nén đúng file
tar -xvzf executor-linux-v0.69.0.tar.gz
cd executor

# Thiết lập môi trường
export ENVIRONMENT=testnet
export LOG_LEVEL=debug
export LOG_PRETTY=false

export EXECUTOR_PROCESS_BIDS_ENABLED=true
export EXECUTOR_PROCESS_ORDERS_ENABLED=true
export EXECUTOR_PROCESS_CLAIMS_ENABLED=true
export EXECUTOR_PROCESS_ORDERS=true
export EXECUTOR_PROCESS_CLAIMS=true

export EXECUTOR_MAX_L3_GAS_PRICE=100
export PRIVATE_KEY_LOCAL=$(cat key.txt)

export ENABLED_NETWORKS='arbitrum-sepolia,base-sepolia,optimism-sepolia,l1rn'

# RPC chính xác theo ethers.js v5.8.0
export RPC_ENDPOINTS_L1RN='https://brn.calderarpc.com/'
export RPC_ENDPOINTS_OPSP='https://sepolia.optimism.io'
export RPC_ENDPOINTS_BSSP='https://base-sepolia-rpc.publicnode.com'
export RPC_ENDPOINTS_ARBT='https://arbitrum-sepolia.drpc.org'

export EXECUTOR_PROCESS_PENDING_ORDERS_FROM_API=false

# Chạy executor
cd executor/bin
./executor
